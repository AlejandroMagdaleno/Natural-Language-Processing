Eduardo Valdivia was indicted with second-degree attempted murder, first-degree assault, use of a firearm and reckless endangerment charges, Montgomery County Circuit Court records show. 
Judge Joan Ryon ordered Valdivia to be released on personal bond, and he must turn over all his firearms and his passport. A plea was not entered.
Valdivia's attorney Robert Bonsib told CNN over the phone Tuesday that the charges in the indictment are "very unfortunate and ill founded." 
Valdivia, 37 of Gaithersburg, Maryland, was on his way to work when he allegedly got into a verbal exchange with Steven Slaughter while on a Red Line train after 6 a.m. on December 15, when shots were fired.  
Investigators with the 
Metro Transit Police
 said in a statement on December 18 that video footage of the incident shows an adult male approaching Valdivia as the Metrorail car neared Medical Center Station in Bethesda. Words were exchanged, when Valdivia discharged his weapon several times, the Metro Transit Police said.
Slaughter asked Valdivia for money and when Valdivia said that he didn't have any, Slaughter walked away spewing expletives, prosecutors said in court on Tuesday. Valdivia, who was promoted last year to a supervisory special agent, told Slaughter to watch his mouth. The FBI agent's response caused Slaughter to turn back around and get into Valdivia's face before two shots were fired, prosecutors said
.
Bonsib says Slaughter provoked Valdivia with "threatening and aggressive behavior -- at close range" that put him in "imminent danger" of getting into a fight and Slaughter getting hold of his gun. Bonsib says that prior to the December incident, Valdivia never discharged his firearm in the line of duty. 
"It is clear that Eddie Valdivia acted to prevent what was about to be a physical confrontation with Mr. Slaughter," Bonsib says in a news release. "Eddie Valdivia's opinion of the danger posed by Mr. Slaughter was properly and correctly based upon his training and experience dealing with violence."
Another passenger called 911 as well as the manager of the station, Metro Transit Police said. The passenger told a 911 operator that "there is a law enforcement officer who shot a person who attacked him" and the person who was shot got into Valdivia's face without a mask on, according to an excerpt provided by Bonsib.
Prosecutors say Slaughter was unarmed during the incident and as a result of the shooting portions of his spleen, colon and pancreas were removed. 
Prosecutors said at Valdivia's initial appearance that he hadn't identified himself as an FBI agent until after the shooting. He did not know Slaughter nor was he aware of Slaughter's criminal history prior to the shooting, prosecutors said.
After the Metro Transit Police completed their investigation on December 21, they turned over all their evidence to the Montgomery County state's attorney for review. A grand jury indicted Valdivia on Thursday and a warrant was issued on Friday, according to online records.
"Mr. Valdivia is an FBI agent who has served his community in dangerous and sensitive assignments for the last 10 years. We do not believe there is evidence to support these charges. And we believe that once we get an opportunity to have a fair evaluation in front of a jury, he will be acquitted," Bonsib said.
The FBI said in a statement Tuesday that the bureau is "aware of the recent charges brought by the Montgomery County, Maryland State's Attorney's Office involving an FBI Special Agent, and we are fully cooperating with the State's Attorney's Office on this matter. As is customary following a shooting incident, this matter will be subject to internal review."
Valdivia is expected back in court on June 11 to schedule hearings. He has been suspended without pay, according to his attorney.
If convicted, Valdivia faces up to 30 years in prison for the top charge.
This story has been updated with additional information from Tuesday's hearing.
